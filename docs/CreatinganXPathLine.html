

<html>
	
<head>
	<title>Creating an XPath Line</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="generator" content="HelpNDoc Personal Edition 5.2.0.265">
	<meta name="keywords" content="">
	
	
	
	<link type="text/css" rel="stylesheet" media="all" href="css/reset.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
	<link type="text/css" rel="stylesheet" media="all" href="css/hnd.css" />
	<!--[if lte IE 8]>
		<link type="text/css" rel="stylesheet" media="all" href="css/ielte8.css" />
	<![endif]-->
	<style type="text/css">
		#topic_header
		{
			background-color: #EFEFEF;
		}
	</style>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/hnd.js"></script>
	<script type="text/javascript">
		$(document).ready(function()
		{
			if (top.frames.length == 0)
			{
				var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
				top.location.href = "index.html?" + sTopicUrl;
			}
			else
			{
				var bTocSelected = false;
				(function waitForTOC()
				{
					if (top && top.FrameTOC && top.FrameTOC.SelectTocItem)
					{
						top.FrameTOC.SelectTocItem("CreatinganXPathLine");
						bTocSelected = true;
					}
					if (!bTocSelected) setTimeout(function() { waitForTOC(); }, 300);
				})();
			}
		});
	</script>
	
	
</head>

<body>



	
		<div id="topic_header">
			<div id="topic_header_content">
				<h1 id="topic_header_text">Creating an XPath Line</h1>
				
				
				<div id="topic_breadcrumb">
					<a href="SDXXPathConfigurations.html">SDX XPath Configurations</a> &rsaquo;&rsaquo; 
				</div>
				
			</div>
			
			<div id="topic_header_nav">
				
				
				<a href="SDXXPathConfigurations.html"><img src="img/arrow_up.png" alt="Parent"/></a>
				
				
				
				<a href="SDXXPathConfigurations.html"><img src="img/arrow_left.png" alt="Previous"/></a>
				
				
				
				<a href="QuickStart.html"><img src="img/arrow_right.png" alt="Next"/></a>
				
				
			</div>
			
			<div class="clear"></div>
		</div>
	
	
	<div id="topic_content">
		
<p></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem209.png"></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Now that you've completed the Intermediate Tutorial successfully, it's time to show you a bit about XPath</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The XML portion of the Bigger Back Pack mod can be a bit confusing, because of the xpath.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">I recommend using a site like</span><a class="rvts20" href="https://xmltoolbox.appspot.com/xpath_generator.html"> https://xmltoolbox.appspot.com/xpath_generator.html</a><span class="rvts6"> to help generate your xpath. You will still need to make some changes, but it'll go a long way.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem206.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">In the XML Input, copy and paste the window.xml file, found under your Data/Config/XUi/windows.xml</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem207.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Once the XML is copy / pasted, you can now click on different values inside of the XML box to get it's Xpath result:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Note: I highlighted the 'controller' name for visibility. In order to get the XPath value, you do not need to highlight, just click on it.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><img alt="" style="padding : 1px;" src="lib/NewItem208.png"></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The XPath result it came up with is: /windows/window[1]/grid[@name="hud"]//rect[1]@controller</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">While it may work, we can actually fix it to be even more reliable. By default, it's trying to use /window[1]/, so the first window in the file. However, if we are using a modded windows.xml, or if the vanilla one changes in the future, then this script won't return what you want. Looking at the xml, we know that the window name is actually "HUDLeftStatBars"</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Let's fix it:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts21">/windows/window[@name='HUDLeftStatBars']/grid[@name="hud"]//rect[1]@controller</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The @name= allows us to specify the name attribute asa string. For this example, we want to specify exactly HUDleftStatBars. If this window ever changes spots in the future, the xpath with the name will still return the right window, while the generated one would likely fail.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The grid, mysteriously, has used the @name tag to make sure the right one is found. So we don't need to fix that one.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">The rect[1] value, however, does need to be fixed. For this, we don't have a name attribute, so we need to find another unique attribute to use. </span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts21"> &lt;rect width="168" height="43" controller="HUDStatBar" stat_type="Stamina" visible="{statvisible}"&gt;</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Width, Height, Controller, and visible are not unique, as other &lt;Rect&gt; nodes have it. But the stat_type is unique.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">Let's flesh it out:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps5"><span class="rvts21">/windows/window[@name='HUDLeftStatBars']/grid[@name="hud"]//rect[@stat_type="Stamina"]@controller</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">By default, that website uses double quotes to wrap around strings. We'll want to change those to single quotes, as our entire xpath will be wrapped around double quotes.</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">If we wanted to change that line, our Config xpath command would look like this:</span></p>
<p class="rvps2"><span class="rvts6"><br/></span></p>
<p class="rvps13"><span class="rvts6">&lt;set xpath="</span><span class="rvts21">/windows/window[@name='HUDLeftStatBars']/grid[@name='hud']//rect[@stat_type='Stamina']@controller"&gt;HUDStatBar2&lt;/set&gt;</span></p>
<p></p>
<p class="rvps7" style="clear: both;"><span class="rvts14">Created with the Personal Edition of HelpNDoc: </span><a class="rvts15" href="https://www.helpndoc.com/feature-tour/create-ebooks-for-amazon-kindle">Write eBooks for the Kindle</a></p>

	</div>
	
	
		<div id="topic_footer">

			<div id="topic_footer_content">
				Copyright &copy; 2017 by sphereii. All Rights Reserved.
			</div>
		</div>
	
	

	
</body>
	
</html>

